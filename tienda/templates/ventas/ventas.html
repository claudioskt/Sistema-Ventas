{% extends "base.html" %}
{% load static %}

{% block body %}
<div class="container">
    <div class="row">
        <div class="col-lg-10">
            <h1 class="my-4">Ventas - <span id="tipoDocumentoTexto">Boleta</span></h1>

            <!-- Selector de tipo de documento -->
            <div class="form-group">
                <label for="tipoDocumento">Tipo de Documento:</label>
                <select class="form-control" id="tipoDocumento">
                    <option value="boleta">Boleta</option>
                    <option value="factura">Factura</option>
                </select>
            </div>

            <!-- Campos adicionales para datos del cliente en factura -->
            <div id="camposFactura" style="display: none;">
                <div class="form-group">
                    <label for="nombreClienteInput">Nombre / Razón Social:</label>
                    <input type="text" class="form-control" id="nombreClienteInput" placeholder="Ingrese nombre o razón social">
                    <ul class="list-group mt-2" id="listaClientes" style="display: none;"></ul>
                </div>
                <div class="form-group">
                    <label for="rutClienteInput">RUT:</label>
                    <input type="text" class="form-control" id="rutClienteInput" placeholder="Ingrese RUT">
                </div>
                <div class="form-group">
                    <label for="direccionClienteInput">Dirección:</label>
                    <input type="text" class="form-control" id="direccionClienteInput" placeholder="Ingrese dirección">
                </div>
                <div class="form-group">
                    <label for="giroClienteInput">Giro Comercial:</label>
                    <input type="text" class="form-control" id="giroClienteInput" placeholder="Ingrese giro comercial">
                </div>
                <div class="form-group">
                    <label for="comunaClienteInput">Comuna:</label>
                    <input type="text" class="form-control" id="comunaClienteInput" placeholder="Ingrese comuna">
                </div>
                <div class="form-group">
                    <label for="telefonoClienteInput">Teléfono:</label>
                    <input type="text" class="form-control" id="telefonoClienteInput" placeholder="Ingrese teléfono">
                </div>
                <div class="form-group">
                    <label for="emailClienteInput">Email:</label>
                    <input type="email" class="form-control" id="emailClienteInput" placeholder="Ingrese email">
                </div>
            </div>

            <!-- Tarjeta para detalles de venta -->
            <div class="card mt-4">
                <div class="card-header">
                    Detalles de Venta
                </div>
                <div class="card-body">
                    <!-- Campo de búsqueda de productos -->
                    <div class="form-group">
                        <div class="input-group">
                            <input type="text" class="form-control" id="codigoBarras" placeholder="Escanear código de barras">
                            <div class="input-group-append">
                                <button id="btnEscanear" class="btn btn-primary" type="button">Escanear</button>
                            </div>
                        </div>
                    </div>

                    <!-- Lista de productos seleccionados -->
                    <ul class="list-group mb-3" id="detalleVenta">
                        
                    </ul>
                </div>
                <div class="card-footer">
                    <div class="row">
                        <div class="col-lg-8">
                            <!-- Tipo de Pago -->
                            <div class="form-group">
                                <label for="tipoPago">Tipo de Pago:</label>
                                <select class="form-control" id="tipoPago">
                                    <option value="efectivo">Efectivo</option>
                                    <option value="redCompra">Red Compra</option>
                                    <option value="pendiente">Pendiente</option>
                                </select>
                            </div>
                            <!-- Total de la Venta -->
                            <div class="total">
                                <h5>Total: $<span id="totalVenta">0</span></h5>
                            </div>
                        </div>
                    </div>
                    <!-- Botón para finalizar venta -->
                    <button id="btnFinalizarVenta" class="btn btn-primary mt-3">Finalizar Venta</button>
                </div>
            </div>
        </div>
    </div>
</div>


<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf-lib/1.16.0/pdf-lib.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.3.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.16/jspdf.plugin.autotable.min.js"></script>
<script src="/static/js/script.js"></script>
{% endblock %}
